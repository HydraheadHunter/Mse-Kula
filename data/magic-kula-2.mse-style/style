mse version: 2.0.0
game: magic
short name: Kula 2
full name: M15 Dynamic
icon: card-sample.png
installer group: magic/m15 style/normal cards
position hint: 000

version: 2015-12-20
depends on:
	package: magic.mse-game
	version: 2014-06-25
depends on:
	package: magic-default-image.mse-include
	version: 2007-09-23
depends on:
	package: magic-blends.mse-include
	version: 2015-05-23
depends on:
	package: magic-watermarks.mse-include
	version: 2007-09-23
depends on:
	package: magic-identity-new.mse-include
	version: 2012-01-22
depends on:
	package: magic-mana-large.mse-symbol-font
	version: 2007-09-23
depends on:
	package: magic-mana-small.mse-symbol-font
	version: 2007-09-23

card width:	375
card height:	523
card dpi:	150
############################################################## Extra scripts
init script:
	# Load scripts for image box
	include file: /magic-default-image.mse-include/scripts

	include file: variables/file_names
	include file: variables/complete_standard_variables
	include file: variables/fonts

	include file: scripts/standard_scripts
	include file: scripts/complete_standard_scripts
	include file: scripts/text_alignment
	include file: scripts/override_script

	mana_t 		:= 		{ "new"	}
	guild_mana	:= 		{ "no"	}
	
############################################################## Set info fields
set info style:
	symbol:
		variation:
			name: 		  invertedcommon
			border radius: 	  0.10
			fill type: 	  solid
			fill color:   	  rgb(255,255,255)
			border color: 	  rgb(0,0,0)
#Card
card style:
	card color:
		z index: 		  0
		left:			{ card_dim.def.left		}
		top:			{ card_dim.def.top		}
		width:			{ card_dim.def.width		}
		height:			{ card_dim.def.height		}
		render style: 		  image
		popup style: 		  in place
		image: 			{ card_background( directory:decide_card_directory(), blend_directory:dir.blend ) }
	border color:
		z index: 		  1
		left:			{ card_dim.def.left		}
		top:			{ card_dim.def.top		}
		width:			{ card_dim.def.width		}
		height:			{ card_dim.def.height		}
		mask: 			{ decide_border_directory() + "border.png"	}
	image:
		left: 			{ image_pos.def.left		}
		top: 			{ image_pos.def.top		}
		width: 			{ image_pos.def.width		}
		height: 		{ image_pos.def.height		}
		z index: 		  2
		default: 		{ default_image(card.card_color)}
extra card field:
	type:				  choice
	name: 				  stamp
	script: 			  card.card_color
	editable: 			  false
	save value: 			  false

#Name Line
card style:
	card symbol:
		z index: 		1
		left:			{ decide_symbol_pos.left		(card.card_symbol =="none")			}
		top:			{ symbol_pos.def.symbol.top		}
		width:			{ symbol_pos.def.symbol.width		}
		height:			{ symbol_pos.def.symbol.height		}
		render style: 		  image
		choice images:
			tombstone: 	{ tombstone_image			}
	
	name:
		z index: 		  1
		left:			{ decide_name_pos.left			(card.card_symbol == "none")			}
		top:			{ name_pos.def.symbol.top		}
		right:			{ decide_name_pos.right			( card_style.casting_cost.content_width)	}
		height:			{ name_pos.def.symbol.height		}
		alignment: 		  bottom shrink-overflow
		padding bottom: 	  0

		font:
			name: 		{ beleren_bold_font.name		}
			size: 		{ beleren_bold_font.size.name_line	}
			color:		{ beleren_bold_font.color		}
	casting cost:
		z index:		  2
		right:			{ cost_pos.def.right			}
		top:			{ cost_pos.def.top			}
		width:			{ decide_cost_pos.width			( card_style.casting_cost.content_width)	}
		height:			{ cost_pos.def.height			}
		alignment:		  middle right
		font:
			name:		{ mplantin_font.name.def		}
			size:		{ mplantin_font.size.cast_cost		}
		symbol font:
			name:		{ large_mana_sfont.name			}
			size:		{ large_mana_sfont.size.cast_cost	}
			alignment: 	  middle right
		always symbol:		  true
		padding top:		  0
#Type Line
styling field:
	type: boolean
	name: override default show indicator
	initial: no
card style:	
	indicator:
		z index:		  2
		left:			{ decide_identity_pos.left()		}
		top: 			{ indicator_pos.def.indicator.top	}
		width:			{ indicator_pos.def.indicator.width	}
		height:			{ indicator_pos.def.indicator.height	}
		render style:		  image
		image:			{ card_identity				(directory:dir.i_identity)	}
		mask:			{ identity_mask				}
		visible:		{ show_indicator()			}
	type:
		z index:		  1
		left:			{ decide_type_pos.left()		}
		top:			{ type_pos.def.indicator.top		}
		width:			{ decide_type_pos.width()		}
		height:			{ type_pos.def.indicator.height		}
		alignment:		  top shrink-overflow
		padding top:		  2
		font:
			name:		{ beleren_bold_font.name		}
			size:		{ beleren_bold_font.size.type_line	}
			color:		{ beleren_bold_font.color		}
			separator color:  red
	rarity:
		right:			{ rarity_pos.def.right			}
		top:			{ rarity_pos.def.top			}
		width:			{ rarity_pos.def.width			}
		height:			{ rarity_pos.def.height			}
		z index:		  2
		render style:		  image
		alignment:		  middle right
		choice images:
			basic land:	script: select_rarity_icon.common(true	)
			common:		script: select_rarity_icon.common(true	)
			uncommon:   	script: select_rarity_icon.uncommon(	)
			rare:       	script: select_rarity_icon.rare(	)
			mythic rare:	script: select_rarity_icon.mythic(	)
			special:	script: select_rarity_icon.special(	)
#TextBox
styling field:
	type: 				  choice
	name: 				  default text alignment
	choice: 			  left
	choice: 			  center
	choice: 			  right
	initial: 			  left
styling field:
	type: 				  choice
	name: 				  override default alignment
	choice: 			  never
	choice: 			  short rules only
	choice: 			  short flavor only
	choice: 			  either short text
	choice: 			  both short text
	choice: 			  long rules only
	choice: 			  long flavor only
	choice: 			  either long text
	choice: 			  both long text
styling field:
	type: 				  choice
	name: 				  rules text alignment override
	choice: 			  left
	choice: 			  center
	choice: 			  right
	initial:			  left
styling field:
	type:				  choice
	name:				  flavor text alignment override
	choice: 			  left
	choice: 			  center
	choice: 			  right
	initial:			  left
	

card style:
	text:
		z index: 2
		left:			{ text_pos.def.left			}
		top:			{ text_pos.def.top			}
		width:			{ text_pos.def.width			}
		height:			{ text_pos.def.height			}
		alignment:		  middle left shrink-overflow
		font:
			name:		{ mplantin_font.name.def		}
			italic name:	{ mplantin_font.name.italic		}
			size:		{ mplantin_font.size.text_box		}
			scale down to:	  6
			color:		{ mplantin_font.color			}
		symbol font:
			name: 		{ large_mana_sfont.name			}
			size: 		{ large_mana_sfont.size.text_box	}
		padding left:   	  6
		padding right:  	  4
		line height hard: 	  1.2
		line height line: 	  1.5
		line height soft: 	  0.9
		line height hard max: 	  1.3
		line height line max: 	  1.6
	watermark:
		z index: 		  1
		left:			{ watermark_pos.def.left		}
		top:			{ watermark_pos.def.top			}
		width:			{ watermark_pos.def.width		}
		height:			{ watermark_pos.def.height		}
		render style: 		  image
		popup style: 		  in place
		alignment: 		  middle center
		include file: 		  /magic-watermarks.mse-include/watermarks
#Power Toughness and Loyalty
card style:
	pt:
		z index:		  2
		left:			{ pt_1_pos.def.text.left		}
		top:			{ pt_1_pos.def.text.top			}
		width:			{ pt_1_pos.def.text.width		}
		height:			{ pt_1_pos.def.text.height		}
		alignment: 		  center middle shrink-overflow
		font:
			name: 		{ beleren_bold_font.name		}
			size: 		{ beleren_bold_font.size.pt		}
			color: 		{ beleren_bold_font.color		}
			separator color:  red
extra card field:
	type: 				  choice
	name: 				  pt box
	script: 			  card.card_color
	editable: 			  false
	save value: 			  false
extra card style:
	pt box:
		z index: 		  1
		left:			{ pt_1_pos.def.box.left			}
		top:			{ pt_1_pos.def.box.top			}
		width:			{ pt_1_pos.def.box.width		}
		height:			{ pt_1_pos.def.box.height		}
		render style: 		  image
		image:	 		{ card_ptbox(directory:"pt/", blend_directory:dir.blend) }
		mask:			{ power_toughness_mask		}
		visible: 		{ card.pt != "" }
		

#Collection Credit and Copyright
styling field:
	type:				  boolean
	name:				  stamp rares
	initial:			  yes
styling style:
	stamp rares:
		choice images:
			yes:		{ foil_stamp_image					}
	
extra card style:
	stamp:
		z index:		  1
		left: 			{ stamp_pos.def.left					}
		top:			{ stamp_pos.def.top					}
		width:			{ stamp_pos.def.width					}
		height:			{ stamp_pos.def.height					}
		visible:		{ is_stamped() }
		render style: 		  image
		image:	 		{ card_stamp(type:"stamp", directory:dir.stamp, blend_directory:dir.blend) }
extra card field:
	type: 				  choice
	name: 				  foil stamp
	choice: 			  stamp
	save value: 			  false
	editable: 			  false
extra card style:
	foil stamp:
		z index:		  2
		left: 			{ stamp_pos.def.left					}
		top:			{ stamp_pos.def.top					}
		width:			{ stamp_pos.def.width					}
		height:			{ stamp_pos.def.height					}
		visible: 		{ is_stamped() }
		render style: 		  image
		image: 			  stamp/foil_stamp.png

extra card field:
	type: 				  text
	name: 				  card code
	save value: 			  false
	script:
		if set.automatic_card_numbers then
			forward_editor(prefix: card_number_m15() + "/" + card_count_m15() + " " + rarity_code() + " ", field: card.card_code_text)
		else
			combined_editor(field1: card.custom_card_number, separator: " " + rarity_code() + " ", field2: card.card_code_text)

extra card style:
	card code:
		z index:		  1
		left: 			{ card_code_pos.def.left				}
		top:			{ card_code_pos.def.top					}
		width:			{ card_code_pos.def.width				}
		height:			{ card_code_pos.def.height				}
		font:
			name:		  Relay-Medium
			size: 		  7
			color: 		  white
			weight: 	  bold
card style:
	set code:
		z index:		  1
		left: 			{ set_code_pos.def.left					}
		top: 			{ set_code_pos.def.top					}
		width: 			{ set_code_pos.def.width				}
		height: 		{ set_code_pos.def.height				}
		font:
			name: 		  Relay-Medium
			size: 		  7
			color: 		  white
			weight: 	  bold
extra card field:
	type: 				  choice
	name: 				  artist arrow
	editable: 			  false
	save value: 			  false
	choice: 			  white
extra card style:
	artist arrow:
		z index: 		  1
		left: 			{ decide_artist_arrow_pos.one.def.left			( card_style.set_code.content_width )	}
		top: 			{ artist_arrow_pos.one.def.top				}
		width: 			{ artist_arrow_pos.one.def.width			}
		height: 		{ artist_arrow_pos.one.def.height			}
		render style: 		  image
		image: 			{ artist_arrow_image					}
card style:	
	illustrator:
		z index: 		1
		left: 			{ decide_illustrator_pos.one.def.left			( card_style.set_code.content_width )	}
		top: 			{ illustrator_pos.one.def.top				}
		width: 			{ decide_illustrator_pos.one.def.width()		}
		height: 		{ illustrator_pos.one.def.height			}

		font:
			name: 		{ beleren_bold_sc_font.name				}
			size: 		{ beleren_bold_sc_font.size.def				}
			color: 		{ beleren_bold_sc_font.color				}
extra card field:
	type: 				  choice
	name: 				  artist arrow 2
	editable: 			  false
	save value: 			  false
	choice: 			  white
styling field:
	type:				  boolean
	name:				  has two artists
styling style:
	has two artists:
		choice images:
			yes:		{ artist_arrow_2_image					}
extra card style:
	artist arrow 2:
		z index: 		  1
		left: 			{ decide_artist_arrow_pos.two.def.left			( card_style.set_code.content_width + card_style.illustrator.content_width )	}
		top: 			{ artist_arrow_pos.two.def.top				}
		width: 			{ artist_arrow_pos.two.def.width			}
		height: 		{ artist_arrow_pos.two.def.height			}
		
		render style: 		  image
		image: 			{ artist_arrow_image					}
		visible:		{ show_second_artist()					}
card style:	
	illustrator 2:
		z index: 		  1
		left: 			{ decide_illustrator_pos.two.def.left			( card_style.set_code.content_width + card_style.illustrator.content_width)}
		top: 			{ illustrator_pos.two.def.top				}
		width: 			{ decide_illustrator_pos.two.def.width()		}
		height: 		{ illustrator_pos.two.def.height			}
		font:
			name: 		{ beleren_bold_sc_font.name				}
			size: 		{ beleren_bold_sc_font.size.def				}
			color: 		{ beleren_bold_sc_font.color				}
		visible:		{ show_second_artist()					}
styling field:
	type:				  boolean
	name:				  card creator
styling style:
	card creator:
		choice images:
			yes:		{ creator_computer_image				}
extra card field:
	type:				  choice
	name:				  creator computer
	editable:			  false
	save value:			  false
	choice:				  white
extra card style:
	creator computer:
		z index:		  1
		left:			{ decide_creator_com_pos.def.left			(card_style.set_code.content_width )	}
		top:			{ creator_com_pos.def.top				}
		width:			{ creator_com_pos.def.width				}
		height:			{ creator_com_pos.def.height				}
		render style:		  image
		image:			{ creator_computer_image				}
		visible:		{ show_creator()					}
card style:
	creator:
		z index: 1
		left:			{ decide_creator_credit_pos.def.left			(card_style.set_code.content_width )	}
		top:			{ creator_credit_pos.def.top				}
		width:			{ creator_credit_pos.def.width_min			}
		height:			{ creator_credit_pos.def.height				}
		font:
			name: 		{ beleren_bold_sc_font.name				}
			size: 		{ beleren_bold_sc_font.size.def				}
			color: 		{ beleren_bold_sc_font.color				}
		visible:		{ show_creator()					}
card style:
	copyright:
		right: 			350
		top: 			{ if card.pt != "" then 500 else 488 }
		width: 			140
		height: 		10
		z index: 		2
		alignment: 		middle right shrink-overflow
		font:
			name: 		Matrix
			size: 		7
			color: 		white
			weight:		bold
